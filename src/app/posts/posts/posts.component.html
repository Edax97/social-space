<mat-accordion multi="true">
  <div *ngFor="let post of posts; trackBy: identical">
    <mat-expansion-panel class='post' hideToggle='true'>
      <mat-expansion-panel-header class="my-2 pe-0 me-0">
        <mat-panel-title>
          <h3>{{ post.title }}</h3>
        </mat-panel-title>
        <span class="username ms-auto">
          <a class="d-inline" mat-button color='primary' [routerLink]="['/profile', post.userId._id]">@{{post.userId.username}}</a>
        </span>
      </mat-expansion-panel-header>
      <div class="pic-view" *ngIf="post.imagePath !== ''">
        <img class="shadow-box" [src]="post.imagePath" [alt]="post.title">
      </div>
      <div class="p-2" *ngIf="post.content !== ''">
        <p class="content">{{ (post.content) }}</p>
      </div>      
      <mat-action-row>
        <button class="me-auto " color="accent"  [ngClass]="{'fill': post.likes.includes(userId)}" 
          mat-icon-button (click)="onUpvote(post.id, userId)">
          <span class="material-symbols-outlined">
            favorite</span>
          <mat-label class="ms-1">{{post.likes.length}}</mat-label>
        </button> 
        
        <span></span>
        <span  *ngIf="(userId === post.userId._id)">
          <a mat-button color="primary" [routerLink]="['/edit', post.id]">EDIT</a>
          <button mat-button color="warn" (click)="onDelete(post.id)">DELETE</button>
        </span>
      </mat-action-row>
  </mat-expansion-panel>
  </div>
</mat-accordion>


